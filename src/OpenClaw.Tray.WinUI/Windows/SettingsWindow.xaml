<?xml version="1.0" encoding="utf-8"?>
<winex:WindowEx
    x:Class="OpenClawTray.Windows.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:winex="using:WinUIEx"
    Title="Settings — OpenClaw Tray">

    <Window.SystemBackdrop>
        <MicaBackdrop/>
    </Window.SystemBackdrop>

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24">
        <StackPanel Spacing="24" MaxWidth="450">
            
            <!-- Connection Section -->
            <StackPanel Spacing="8">
                <TextBlock Text="CONNECTION" Style="{StaticResource CaptionTextBlockStyle}" 
                           Foreground="#E74C3C" FontWeight="Bold"/>
                
                <TextBox x:Name="GatewayUrlTextBox" Header="Gateway URL" 
                         PlaceholderText="ws://localhost:18789"/>
                
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBox x:Name="TokenTextBox" Header="Token" 
                             PlaceholderText="Your API token" Width="300"/>
                    <Button x:Name="TestConnectionButton" Content="Test" 
                            VerticalAlignment="Bottom" Click="OnTestConnection"/>
                </StackPanel>
                
                <TextBlock x:Name="StatusLabel" Style="{StaticResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            </StackPanel>

            <!-- Startup Section -->
            <StackPanel Spacing="8">
                <TextBlock Text="STARTUP" Style="{StaticResource CaptionTextBlockStyle}"
                           Foreground="#E74C3C" FontWeight="Bold"/>
                
                <ToggleSwitch x:Name="AutoStartToggle" Header="Start automatically with Windows"/>
                <ToggleSwitch x:Name="GlobalHotkeyToggle" Header="Global hotkey (Ctrl+Alt+Shift+C → Quick Send)"/>
            </StackPanel>

            <!-- Notifications Section -->
            <StackPanel Spacing="8">
                <TextBlock Text="NOTIFICATIONS" Style="{StaticResource CaptionTextBlockStyle}"
                           Foreground="#E74C3C" FontWeight="Bold"/>
                
                <ToggleSwitch x:Name="NotificationsToggle" Header="Show notifications"/>
                
                <ComboBox x:Name="NotificationSoundComboBox" Header="Sound" Width="200">
                    <ComboBoxItem Content="Default"/>
                    <ComboBoxItem Content="None"/>
                    <ComboBoxItem Content="Subtle"/>
                </ComboBox>
                
                <TextBlock Text="Show notifications for:" Margin="0,8,0,4"/>
                
                <StackPanel Spacing="4">
                    <CheckBox x:Name="NotifyHealthCb" Content="Health alerts"/>
                    <CheckBox x:Name="NotifyUrgentCb" Content="Urgent messages"/>
                    <CheckBox x:Name="NotifyReminderCb" Content="Reminders"/>
                    <CheckBox x:Name="NotifyEmailCb" Content="Email summaries"/>
                    <CheckBox x:Name="NotifyCalendarCb" Content="Calendar events"/>
                    <CheckBox x:Name="NotifyBuildCb" Content="Build notifications"/>
                    <CheckBox x:Name="NotifyStockCb" Content="Stock alerts"/>
                    <CheckBox x:Name="NotifyInfoCb" Content="Info messages"/>
                </StackPanel>
            </StackPanel>

            <!-- Test Notification -->
            <Button x:Name="TestNotificationButton" Content="Send Test Notification" 
                    Click="OnTestNotification"/>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                <Button Content="Cancel" Click="OnCancel" Width="80"/>
                <Button x:Name="SaveButton" Content="Save" 
                        Click="OnSave" Width="80" Style="{ThemeResource AccentButtonStyle}"/>
            </StackPanel>
            
        </StackPanel>
    </ScrollViewer>
</winex:WindowEx>

